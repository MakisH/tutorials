digraph G {
compound=True;
layout=dot;
margin=0;
overlap=scale;
rankdir=LR;
splines=true;
subgraph cluster_m2n {
label="Communicators";
"m2n-Mass-Left-Mass-Right" [label="sockets", shape=component];
}

subgraph cluster_cpl {
label="Coupling Schemes";
"cpl-Mass-Left-Mass-Right" [label="serial-implicit", shape=component];
}

subgraph "cluster_Mass-Left" {
label="Mass-Left";
style=bold;
"Mass-Left" [color="#0173B2", shape=doubleoctagon];
"Mass-Left-Mass-Left-Mesh" [color="#0173B2", label=<Mass-Left-Mesh<SUP><I>2D</I></SUP>>, shape=cylinder];
"Mass-Left-Mass-Left-Mesh" -> "Mass-Left"  [color="#0173B2", label="Force-Right", tooltip=scalar];
"Mass-Left" -> "Mass-Left-Mass-Left-Mesh"  [color="#0173B2", label="Force-Left", tooltip=scalar];
}

subgraph "cluster_Mass-Right" {
label="Mass-Right";
style=bold;
"Mass-Right" [color="#DE8F05", shape=doubleoctagon];
"Mass-Right-Mass-Right-Mesh" [color="#DE8F05", label=<Mass-Right-Mesh<SUP><I>2D</I></SUP>>, shape=cylinder];
"Mass-Right-Mass-Left-Mesh" [color="#0173B2", label="Mass-Left-Mesh
from Mass-Left", shape=cylinder, style=dashed];
"Mass-Right-Mass-Right-Mesh" -> "Mass-Right"  [color="#DE8F05", label="Force-Left", tooltip=scalar];
"Mass-Right" -> "Mass-Right-Mass-Right-Mesh"  [color="#DE8F05", label="Force-Right", tooltip=scalar];
"Mass-Right-Mass-Right-Mesh" -> "Mass-Right-Mass-Left-Mesh"  [color="#DE8F05", label="nearest-neighbor"];
"Mass-Right-Mass-Left-Mesh" -> "Mass-Right-Mass-Right-Mesh"  [color="#DE8F05", label="nearest-neighbor"];
}

"m2n-Mass-Left-Mass-Right" -> "Mass-Left"  [color="#0173B2", dir=both, lhead="cluster_Mass-Left"];
"m2n-Mass-Left-Mass-Right" -> "Mass-Right"  [color="#DE8F05", dir=both, lhead="cluster_Mass-Right"];
"cpl-Mass-Left-Mass-Right" -> "Mass-Left"  [color="#0173B2", lhead="cluster_Mass-Left", taillabel="first"];
"cpl-Mass-Left-Mass-Right" -> "Mass-Right"  [color="#DE8F05", lhead="cluster_Mass-Right", taillabel="second"];
"Mass-Left-Mass-Left-Mesh" -> "Mass-Right-Mass-Left-Mesh"  [color="#0173B2:invis:#0173B2", label="Force-Left", style=bold, tooltip="scalar initialized"];
"Mass-Right-Mass-Left-Mesh" -> "Mass-Left-Mass-Left-Mesh"  [color="#DE8F05:invis:#DE8F05", label="Force-Right", style=bold, tooltip="scalar initialized"];
}
