digraph G {
compound=True;
layout=dot;
margin=0;
overlap=scale;
rankdir=LR;
splines=true;
subgraph cluster_m2n {
label="Communicators";
"m2n-Fluid-Solid-Upstream" [label="sockets", shape=component];
"m2n-Fluid-Solid-Downstream" [label="sockets", shape=component];
}

subgraph cluster_cpl {
label="Coupling Schemes";
"cpl-multi-Fluid-Solid-Upstream-Solid-Downstream" [label="multi", shape=component];
}

subgraph cluster_Fluid {
label="Fluid";
style=bold;
"Fluid" [color="#0173B2", shape=doubleoctagon];
"Fluid-Fluid-Upstream-Mesh-Nodes" [color="#0173B2", label=<Fluid-Upstream-Mesh-Nodes<SUP><I>2D</I></SUP>>, shape=cylinder];
"Fluid-Fluid-Upstream-Mesh-Centers" [color="#0173B2", label=<Fluid-Upstream-Mesh-Centers<SUP><I>2D</I></SUP>>, shape=cylinder];
"Fluid-Fluid-Downstream-Mesh-Nodes" [color="#0173B2", label=<Fluid-Downstream-Mesh-Nodes<SUP><I>2D</I></SUP>>, shape=cylinder];
"Fluid-Fluid-Downstream-Mesh-Centers" [color="#0173B2", label=<Fluid-Downstream-Mesh-Centers<SUP><I>2D</I></SUP>>, shape=cylinder];
"Fluid-Solid-Upstream-Mesh" [color="#DE8F05", label="Solid-Upstream-Mesh
from Solid-Upstream", shape=cylinder, style=dashed];
"Fluid-Solid-Downstream-Mesh" [color="#029E73", label="Solid-Downstream-Mesh
from Solid-Downstream", shape=cylinder, style=dashed];
"Fluid-Fluid-Upstream-Mesh-Nodes" -> "Fluid"  [color="#0173B2", label="Displacement-Upstream", tooltip=vector];
"Fluid-Fluid-Downstream-Mesh-Nodes" -> "Fluid"  [color="#0173B2", label="Displacement-Downstream", tooltip=vector];
"Fluid" -> "Fluid-Fluid-Upstream-Mesh-Centers"  [color="#0173B2", label="Stress-Upstream", tooltip=vector];
"Fluid" -> "Fluid-Fluid-Downstream-Mesh-Centers"  [color="#0173B2", label="Stress-Downstream", tooltip=vector];
"Fluid-Solid-Upstream-Mesh" -> "Fluid-Fluid-Upstream-Mesh-Nodes"  [color="#0173B2", label="nearest-neighbor"];
"Fluid-Solid-Downstream-Mesh" -> "Fluid-Fluid-Downstream-Mesh-Nodes"  [color="#0173B2", label="nearest-neighbor"];
}

subgraph "cluster_Solid-Upstream" {
label="Solid-Upstream";
style=bold;
"Solid-Upstream" [color="#DE8F05", shape=doubleoctagon];
"Solid-Upstream-Solid-Upstream-Mesh" [color="#DE8F05", label=<Solid-Upstream-Mesh<SUP><I>2D</I></SUP>>, shape=cylinder];
"Solid-Upstream-Fluid-Upstream-Mesh-Centers" [color="#0173B2", label="Fluid-Upstream-Mesh-Centers
from Fluid", shape=cylinder, style=dashed];
"Solid-Upstream-Solid-Upstream-Mesh" -> "Solid-Upstream"  [color="#DE8F05", label="Stress-Upstream", tooltip=vector];
"Solid-Upstream" -> "Solid-Upstream-Solid-Upstream-Mesh"  [color="#DE8F05", label="Displacement-Upstream", tooltip=vector];
"Solid-Upstream-WP-Flap-Tip" [color="#DE8F05", label="Flap-Tip
at (-1.05;1)", shape=note];
"Solid-Upstream-WP-Flap-Tip" -> "Solid-Upstream"  [color="#DE8F05"];
"Solid-Upstream-Fluid-Upstream-Mesh-Centers" -> "Solid-Upstream-Solid-Upstream-Mesh"  [color="#DE8F05", label="nearest-neighbor"];
}

subgraph "cluster_Solid-Downstream" {
label="Solid-Downstream";
style=bold;
"Solid-Downstream" [color="#029E73", shape=doubleoctagon];
"Solid-Downstream-Solid-Downstream-Mesh" [color="#029E73", label=<Solid-Downstream-Mesh<SUP><I>2D</I></SUP>>, shape=cylinder];
"Solid-Downstream-Fluid-Downstream-Mesh-Centers" [color="#0173B2", label="Fluid-Downstream-Mesh-Centers
from Fluid", shape=cylinder, style=dashed];
"Solid-Downstream-Solid-Downstream-Mesh" -> "Solid-Downstream"  [color="#029E73", label="Stress-Downstream", tooltip=vector];
"Solid-Downstream" -> "Solid-Downstream-Solid-Downstream-Mesh"  [color="#029E73", label="Displacement-Downstream", tooltip=vector];
"Solid-Downstream-WP-Flap-Tip" [color="#029E73", label="Flap-Tip
at (0.95;1)", shape=note];
"Solid-Downstream-WP-Flap-Tip" -> "Solid-Downstream"  [color="#029E73"];
"Solid-Downstream-Fluid-Downstream-Mesh-Centers" -> "Solid-Downstream-Solid-Downstream-Mesh"  [color="#029E73", label="nearest-neighbor"];
}

"m2n-Fluid-Solid-Upstream" -> "Fluid"  [color="#0173B2", dir=both, lhead=cluster_Fluid];
"m2n-Fluid-Solid-Upstream" -> "Solid-Upstream"  [color="#DE8F05", dir=both, lhead="cluster_Solid-Upstream"];
"m2n-Fluid-Solid-Downstream" -> "Fluid"  [color="#0173B2", dir=both, lhead=cluster_Fluid];
"m2n-Fluid-Solid-Downstream" -> "Solid-Downstream"  [color="#029E73", dir=both, lhead="cluster_Solid-Downstream"];
"cpl-multi-Fluid-Solid-Upstream-Solid-Downstream" -> "Fluid"  [color="#0173B2", lhead=cluster_Fluid, taillabel=Controller];
"cpl-multi-Fluid-Solid-Upstream-Solid-Downstream" -> "Solid-Upstream"  [color="#DE8F05", lhead="cluster_Solid-Upstream"];
"cpl-multi-Fluid-Solid-Upstream-Solid-Downstream" -> "Solid-Downstream"  [color="#029E73", lhead="cluster_Solid-Downstream"];
"Fluid-Fluid-Upstream-Mesh-Centers" -> "Solid-Upstream-Fluid-Upstream-Mesh-Centers"  [color="#0173B2", label="Stress-Upstream", style="", tooltip=vector];
"Fluid-Fluid-Downstream-Mesh-Centers" -> "Solid-Downstream-Fluid-Downstream-Mesh-Centers"  [color="#0173B2", label="Stress-Downstream", style="", tooltip=vector];
"Solid-Upstream-Solid-Upstream-Mesh" -> "Fluid-Solid-Upstream-Mesh"  [color="#DE8F05", label="Displacement-Upstream", style="", tooltip=vector];
"Solid-Downstream-Solid-Downstream-Mesh" -> "Fluid-Solid-Downstream-Mesh"  [color="#029E73", label="Displacement-Downstream", style="", tooltip=vector];
}
