digraph G {
compound=True;
layout=dot;
margin=0;
overlap=scale;
rankdir=LR;
splines=true;
subgraph cluster_m2n {
label="Communicators";
"m2n-Micro-Manager-macro-heat" [label="sockets", shape=component];
}

subgraph cluster_cpl {
label="Coupling Schemes";
"cpl-macro-heat-Micro-Manager" [label="serial-implicit", shape=component];
}

subgraph "cluster_macro-heat" {
label="macro-heat";
style=bold;
"macro-heat" [color="#0173B2", shape=doubleoctagon];
"macro-heat-macro-mesh" [color="#0173B2", label=<macro-mesh<SUP><I>2D</I></SUP>>, shape=cylinder];
"macro-heat-macro-mesh" -> "macro-heat"  [color="#0173B2", label="k_00", tooltip=scalar];
"macro-heat-macro-mesh" -> "macro-heat"  [color="#0173B2", label="k_01", tooltip=scalar];
"macro-heat-macro-mesh" -> "macro-heat"  [color="#0173B2", label="k_10", tooltip=scalar];
"macro-heat-macro-mesh" -> "macro-heat"  [color="#0173B2", label="k_11", tooltip=scalar];
"macro-heat-macro-mesh" -> "macro-heat"  [color="#0173B2", label="porosity", tooltip=scalar];
"macro-heat" -> "macro-heat-macro-mesh"  [color="#0173B2", label="concentration", tooltip=scalar];
}

subgraph "cluster_Micro-Manager" {
label="Micro-Manager";
style=bold;
"Micro-Manager" [color="#DE8F05", shape=doubleoctagon];
"Micro-Manager-macro-mesh" [color="#0173B2", label="macro-mesh
from macro-heat", shape=cylinder, style=dashed];
"Micro-Manager-macro-mesh" -> "Micro-Manager"  [color="#DE8F05", label="concentration", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="k_00", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="k_01", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="k_10", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="k_11", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="porosity", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="micro_sim_time", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="grain_size", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="active_state", tooltip=scalar];
"Micro-Manager" -> "Micro-Manager-macro-mesh"  [color="#DE8F05", label="active_steps", tooltip=scalar];
}

"m2n-Micro-Manager-macro-heat" -> "Micro-Manager"  [color="#DE8F05", dir=both, lhead="cluster_Micro-Manager"];
"m2n-Micro-Manager-macro-heat" -> "macro-heat"  [color="#0173B2", dir=both, lhead="cluster_macro-heat"];
"cpl-macro-heat-Micro-Manager" -> "macro-heat"  [color="#0173B2", lhead="cluster_macro-heat", taillabel="first"];
"cpl-macro-heat-Micro-Manager" -> "Micro-Manager"  [color="#DE8F05", lhead="cluster_Micro-Manager", taillabel="second"];
"Micro-Manager-macro-mesh" -> "macro-heat-macro-mesh"  [color="#DE8F05", label="k_00", style="", tooltip=scalar];
"Micro-Manager-macro-mesh" -> "macro-heat-macro-mesh"  [color="#DE8F05", label="k_01", style="", tooltip=scalar];
"Micro-Manager-macro-mesh" -> "macro-heat-macro-mesh"  [color="#DE8F05", label="k_10", style="", tooltip=scalar];
"Micro-Manager-macro-mesh" -> "macro-heat-macro-mesh"  [color="#DE8F05", label="k_11", style="", tooltip=scalar];
"Micro-Manager-macro-mesh" -> "macro-heat-macro-mesh"  [color="#DE8F05", label="porosity", style="", tooltip=scalar];
"macro-heat-macro-mesh" -> "Micro-Manager-macro-mesh"  [color="#0173B2", label="concentration", style=bold, tooltip="scalar initialized"];
}
